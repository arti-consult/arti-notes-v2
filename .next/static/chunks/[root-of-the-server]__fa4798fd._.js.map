{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/breyholtz%20holding/arti-notes/arti-notes-v2/src/utils/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr'\r\n\r\nexport function createClient() {\r\n  return createBrowserClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n  )\r\n}"],"names":[],"mappings":";;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,CAAA,GAAA,6KAAA,CAAA,sBAAmB,AAAD;AAI3B","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file://D%3A/breyholtz%20holding/arti-notes/arti-notes-v2/src/contexts/AuthContext.tsx"],"sourcesContent":["// src/contexts/AuthContext.tsx\n\"use client\";\n\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { Session, User } from \"@supabase/supabase-js\";\nimport { Subscription, PricingPlan } from \"@/types/subscription\";\nimport { Profile } from \"@/types/auth\";\n\ninterface AuthContextType {\n  user: User | null;\n  profile: Profile | null;\n  session: Session | null;\n  subscription: Subscription | null;\n  isLoading: boolean;\n  signOut: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType>({\n  user: null,\n  profile: null,\n  session: null,\n  subscription: null,\n  isLoading: true,\n  signOut: async () => {},\n});\n\nexport const useAuth = () => useContext(AuthContext);\n\ninterface AuthProviderProps {\n  children: React.ReactNode;\n}\n\nexport const AuthProvider: React.FC<AuthProviderProps> = ({ children }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [subscription, setSubscription] = useState<Subscription | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n  const supabase = createClient();\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        setIsLoading(true);\n\n        // Get session\n        const {\n          data: { session },\n        } = await supabase.auth.getSession();\n        setSession(session);\n        setUser(session?.user || null);\n\n        if (session?.user) {\n          // Get profile\n          const { data: profileData } = await supabase\n            .from(\"profiles\")\n            .select(\"*\")\n            .eq(\"id\", session.user.id)\n            .single();\n\n          setProfile(profileData);\n\n          // Get active subscription\n          const { data: subscriptionData } = await supabase\n            .from(\"subscriptions\")\n            .select(\n              `\n              *,\n              plan:pricing_plans(*)\n            `\n            )\n            .eq(\"user_id\", session.user.id)\n            .eq(\"status\", \"active\")\n            .single();\n\n          if (subscriptionData) {\n            // Format the subscription data\n            setSubscription({\n              ...subscriptionData,\n              plan: subscriptionData.plan as PricingPlan,\n            });\n          } else {\n            setSubscription(null);\n          }\n        }\n      } catch (error) {\n        console.error(\"Error fetching user data:\", error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchUserData();\n\n    // Subscribe to auth changes\n    const {\n      data: { subscription },\n    } = supabase.auth.onAuthStateChange((_event, session) => {\n      setSession(session);\n      setUser(session?.user || null);\n\n      if (session) {\n        fetchUserData();\n      } else {\n        setProfile(null);\n        setSubscription(null);\n      }\n    });\n\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [supabase, router]);\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n    router.push(\"/login\");\n  };\n\n  const value = {\n    user,\n    profile,\n    session,\n    subscription,\n    isLoading,\n    signOut,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;AAG/B;AACA;AACA;;;AAJA;;;;AAkBA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAAmB;IACjD,MAAM;IACN,SAAS;IACT,SAAS;IACT,cAAc;IACd,WAAW;IACX,SAAS,WAAa;AACxB;AAEO,MAAM,UAAU;;IAAM,OAAA,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;AAAW;GAAtC;AAMN,MAAM,eAA4C,CAAC,EAAE,QAAQ,EAAE;;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB;IACvD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAuB;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,eAAY,AAAD;IAE5B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM;wDAAgB;oBACpB,IAAI;wBACF,aAAa;wBAEb,cAAc;wBACd,MAAM,EACJ,MAAM,EAAE,OAAO,EAAE,EAClB,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;wBAClC,WAAW;wBACX,QAAQ,SAAS,QAAQ;wBAEzB,IAAI,SAAS,MAAM;4BACjB,cAAc;4BACd,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,SACjC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,QAAQ,IAAI,CAAC,EAAE,EACxB,MAAM;4BAET,WAAW;4BAEX,0BAA0B;4BAC1B,MAAM,EAAE,MAAM,gBAAgB,EAAE,GAAG,MAAM,SACtC,IAAI,CAAC,iBACL,MAAM,CACL,CAAC;;;YAGH,CAAC,EAEA,EAAE,CAAC,WAAW,QAAQ,IAAI,CAAC,EAAE,EAC7B,EAAE,CAAC,UAAU,UACb,MAAM;4BAET,IAAI,kBAAkB;gCACpB,+BAA+B;gCAC/B,gBAAgB;oCACd,GAAG,gBAAgB;oCACnB,MAAM,iBAAiB,IAAI;gCAC7B;4BACF,OAAO;gCACL,gBAAgB;4BAClB;wBACF;oBACF,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,6BAA6B;oBAC7C,SAAU;wBACR,aAAa;oBACf;gBACF;;YAEA;YAEA,4BAA4B;YAC5B,MAAM,EACJ,MAAM,EAAE,YAAY,EAAE,EACvB,GAAG,SAAS,IAAI,CAAC,iBAAiB;0CAAC,CAAC,QAAQ;oBAC3C,WAAW;oBACX,QAAQ,SAAS,QAAQ;oBAEzB,IAAI,SAAS;wBACX;oBACF,OAAO;wBACL,WAAW;wBACX,gBAAgB;oBAClB;gBACF;;YAEA;0CAAO;oBACL,aAAa,WAAW;gBAC1B;;QACF;iCAAG;QAAC;QAAU;KAAO;IAErB,MAAM,UAAU;QACd,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;IAlGa;;QAMI,qIAAA,CAAA,YAAS;;;KANb","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/inter_59dee874.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"inter_59dee874-module__9CtR0q__className\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/inter_59dee874.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Inter%22,%22arguments%22:[{%22subsets%22:[%22latin%22]}],%22variableName%22:%22inter%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Inter', 'Inter Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,wJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,wJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,wJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file://D%3A/breyholtz%20holding/arti-notes/arti-notes-v2/src/app/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { AuthProvider } from '@/contexts/AuthContext';\r\nimport './globals.css';\r\nimport { Inter } from \"next/font/google\"\r\n\r\nconst inter = Inter({ subsets: [\"latin\"] })\r\n\r\nexport default function RootLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <html lang=\"en\" suppressHydrationWarning>\r\n      <body className={inter.className}>\r\n        <AuthProvider>\r\n          {children}\r\n        </AuthProvider>\r\n      </body>\r\n    </html>\r\n  );\r\n} "],"names":[],"mappings":";;;;AAEA;;AAFA;;;;;AAQe,SAAS,WAAW,EACjC,QAAQ,EAGT;IACC,qBACE,6LAAC;QAAK,MAAK;QAAK,wBAAwB;kBACtC,cAAA,6LAAC;YAAK,WAAW,4IAAA,CAAA,UAAK,CAAC,SAAS;sBAC9B,cAAA,6LAAC,kIAAA,CAAA,eAAY;0BACV;;;;;;;;;;;;;;;;AAKX;KAdwB","debugId":null}}]
}