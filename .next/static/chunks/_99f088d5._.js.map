{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/breyholtz%20holding/arti-notes/arti-notes-v2/src/app/%28auth%29/onboarding/actions.ts"],"sourcesContent":["\"use server\";\n\nimport { revalidatePath } from \"next/cache\";\nimport { redirect } from \"next/navigation\";\nimport { createClient } from \"@/utils/supabase/server\";\n\nexport async function completeOnboarding(userId: string) {\n  const supabase = await createClient();\n\n  const { error } = await supabase.from(\"user_onboarding\").upsert({\n    user_id: userId,\n    completed_at: new Date().toISOString(),\n  });\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  revalidatePath(\"/\", \"layout\");\n  redirect(\"/dashboard\");\n}\n\nexport async function updateProfile(formData: FormData) {\n  const supabase = await createClient();\n\n  const {\n    data: { user },\n    error: userError,\n  } = await supabase.auth.getUser();\n\n  if (userError || !user) {\n    redirect(\"/login\");\n  }\n\n  const { error } = await supabase.from(\"profiles\").upsert({\n    id: user.id,\n    full_name: formData.get(\"fullName\") as string,\n    username: formData.get(\"username\") as string,\n    bio: formData.get(\"bio\") as string,\n    updated_at: new Date().toISOString(),\n  });\n\n  if (error) {\n    throw new Error(error.message);\n  }\n\n  revalidatePath(\"/\", \"layout\");\n}\n"],"names":[],"mappings":";;;;;;IAMsB,qBAAA,WAAA,GAAA,CAAA,GAAA,yNAAA,CAAA,wBAAA,EAAA,8CAAA,yNAAA,CAAA,aAAA,EAAA,KAAA,GAAA,yNAAA,CAAA,mBAAA,EAAA","debugId":null}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["file://D%3A/breyholtz%20holding/arti-notes/arti-notes-v2/src/app/%28auth%29/onboarding/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { createClient } from \"@/utils/supabase/client\";\nimport { completeOnboarding } from \"./actions\";\nimport { Loader } from \"lucide-react\";\nimport { User } from \"@supabase/supabase-js\";\n\nconst steps = [\n  {\n    title: \"Welcome to Arti Notes\",\n    description:\n      \"Let's get you set up with your personalized note-taking experience.\",\n  },\n  {\n    title: \"Choose Your Note Style\",\n    description: \"Select how you prefer to organize your notes.\",\n  },\n  {\n    title: \"Set Up Your Workspace\",\n    description: \"Customize your workspace to match your workflow.\",\n  },\n];\n\nexport default function OnboardingPage() {\n  const router = useRouter();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [isCheckingOnboarding, setIsCheckingOnboarding] = useState(true);\n  const [user, setUser] = useState<User | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const supabase = createClient();\n        const {\n          data: { user },\n        } = await supabase.auth.getUser();\n        setUser(user);\n        setIsLoading(false);\n      } catch (error) {\n        console.error(\"Error checking auth:\", error);\n        setIsLoading(false);\n      }\n    };\n\n    checkAuth();\n  }, []);\n\n  useEffect(() => {\n    if (!user || isLoading) return;\n\n    const checkOnboarding = async () => {\n      try {\n        const { data, error } = await createClient()\n          .from(\"user_onboarding\")\n          .select(\"completed_at\")\n          .eq(\"user_id\", user.id)\n          .single();\n\n        if (error) throw error;\n\n        if (data?.completed_at) {\n          router.push(\"/dashboard\");\n        } else {\n          setIsCheckingOnboarding(false);\n        }\n      } catch (error) {\n        console.error(\"Error checking onboarding:\", error);\n        setIsCheckingOnboarding(false);\n      }\n    };\n\n    checkOnboarding();\n  }, [user, isLoading, router]);\n\n  const handleSubmit = async () => {\n    setLoading(true);\n    try {\n      if (!user) {\n        throw new Error(\"No user found\");\n      }\n\n      await completeOnboarding(user.id);\n      router.push(\"/dashboard\");\n    } catch (error) {\n      console.error(\"Error completing onboarding:\", error);\n      setLoading(false);\n    }\n  };\n\n  if (isLoading || isCheckingOnboarding) {\n    return (\n      <div className=\"flex h-screen items-center justify-center\">\n        <Loader className=\"h-8 w-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex min-h-screen flex-col items-center justify-center p-4\">\n      <div className=\"w-full max-w-md space-y-8\">\n        <div className=\"text-center\">\n          <h1 className=\"text-3xl font-bold\">{steps[currentStep].title}</h1>\n          <p className=\"mt-2 text-gray-600\">{steps[currentStep].description}</p>\n        </div>\n\n        <div className=\"mt-8\">\n          <div className=\"flex justify-center space-x-2\">\n            {steps.map((_, index) => (\n              <div\n                key={index}\n                className={`h-2 w-2 rounded-full ${\n                  index === currentStep ? \"bg-blue-600\" : \"bg-gray-300\"\n                }`}\n              />\n            ))}\n          </div>\n        </div>\n\n        <div className=\"mt-8\">\n          {currentStep === steps.length - 1 ? (\n            <button\n              onClick={handleSubmit}\n              disabled={loading}\n              className=\"w-full rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50\"\n            >\n              {loading ? \"Completing...\" : \"Complete Setup\"}\n            </button>\n          ) : (\n            <button\n              onClick={() => setCurrentStep(currentStep + 1)}\n              className=\"w-full rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700\"\n            >\n              Next\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file://D%3A/breyholtz%20holding/arti-notes/arti-notes-v2/node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// Since we're using the Edge build of Flight client for SSR [1], here we need to\n// also use the same Edge build to create the reference. For the client bundle,\n// we use the default and let Webpack to resolve it to the correct version.\n// 1: https://github.com/vercel/next.js/blob/16eb80b0b0be13f04a6407943664b5efd8f3d7d0/packages/next/src/server/app-render/use-flight-response.tsx#L24-L26\nexport const createServerReference = (\n  (!!process.env.NEXT_RUNTIME\n    ? // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client.edge')\n    : // eslint-disable-next-line import/no-extraneous-dependencies\n      require('react-server-dom-webpack/client')) as typeof import('react-server-dom-webpack/client')\n).createServerReference\n"],"names":["callServer","createServerReference","findSourceMapURL","process","env","NEXT_RUNTIME","require"],"mappings":"AAAA,gFAAgF;AAChF,0BAA0B;AAYrBG,QAAQC,GAAG,CAACC,YAAY,GAEvBC,QAAQ,0CAERA,QAAQ;;;;;;;;;;;;;;;;;IAdLN,UAAU,EAAA;eAAVA,eAAAA,UAAU;;IASNC,qBAAqB,EAAA;eAArBA;;IARJC,gBAAgB,EAAA;eAAhBA,qBAAAA,gBAAgB;;;+BADE;qCACM;AAQ1B,MAAMD,wBACV,CAAA,CAAC,+MAI2C,EAC7CA,qBAAqB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"file":"loader.js","sources":["file://D%3A/breyholtz%20holding/arti-notes/arti-notes-v2/node_modules/lucide-react/src/icons/loader.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Loader\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjIiIHkyPSI2IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTgiIHkyPSIyMiIgLz4KICA8bGluZSB4MT0iNC45MyIgeDI9IjcuNzYiIHkxPSI0LjkzIiB5Mj0iNy43NiIgLz4KICA8bGluZSB4MT0iMTYuMjQiIHgyPSIxOS4wNyIgeTE9IjE2LjI0IiB5Mj0iMTkuMDciIC8+CiAgPGxpbmUgeDE9IjIiIHgyPSI2IiB5MT0iMTIiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTgiIHgyPSIyMiIgeTE9IjEyIiB5Mj0iMTIiIC8+CiAgPGxpbmUgeDE9IjQuOTMiIHgyPSI3Ljc2IiB5MT0iMTkuMDciIHkyPSIxNi4yNCIgLz4KICA8bGluZSB4MT0iMTYuMjQiIHgyPSIxOS4wNyIgeTE9IjcuNzYiIHkyPSI0LjkzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/loader\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Loader = createLucideIcon('Loader', [\n  ['line', { x1: '12', x2: '12', y1: '2', y2: '6', key: 'gza1u7' }],\n  ['line', { x1: '12', x2: '12', y1: '18', y2: '22', key: '1qhbu9' }],\n  ['line', { x1: '4.93', x2: '7.76', y1: '4.93', y2: '7.76', key: 'xae44r' }],\n  ['line', { x1: '16.24', x2: '19.07', y1: '16.24', y2: '19.07', key: 'bxnmvf' }],\n  ['line', { x1: '2', x2: '6', y1: '12', y2: '12', key: '89khin' }],\n  ['line', { x1: '18', x2: '22', y1: '12', y2: '12', key: 'pb8tfm' }],\n  ['line', { x1: '4.93', x2: '7.76', y1: '19.07', y2: '16.24', key: '1uxjnu' }],\n  ['line', { x1: '16.24', x2: '19.07', y1: '7.76', y2: '4.93', key: '6duxfx' }],\n]);\n\nexport default Loader;\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}}]
}